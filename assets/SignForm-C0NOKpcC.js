import{r as t,j as s,L as d}from"./index-B12e38bU.js";import{u as f,B as o}from"./validator-CElGg4ze.js";function b(n){const{values:r,handleChange:i,errors:l,isValid:g}=f(),[_,c]=t.useState(!1),[p,m]=t.useState(!1),[h,u]=t.useState(!1),a=t.useRef(null);function x(e){e.preventDefault(),n.submit({name:r.name,email:r.email,password:r.password})}return s.jsx("div",{className:"sign-wrapper",children:s.jsxs("form",{onSubmit:e=>{x(e)},ref:a,className:"sign__form",children:[s.jsx("h2",{className:"sign__form-heading",children:n.signUp?"Регистрация":"Вход"}),n.signUp&&s.jsxs("div",{className:"sign__form-input-block",children:[s.jsx("input",{onFocus:()=>{c(!0)},onBlur:e=>{i(e,a.current),c(!1)},onChange:e=>{i(e,a.current)},value:r.name||"",minLength:2,maxLength:25,className:"sign__form-input",name:"name",type:"text",placeholder:"name",required:!0}),s.jsx(o,{onError:!!l.name,onFocus:_}),s.jsx("span",{className:"sign__form-input-err",children:l.name})]}),s.jsxs("div",{className:"sign__form-input-block",children:[s.jsx("input",{required:!0,onFocus:()=>{m(!0)},onBlur:e=>{i(e,a.current),m(!1)},onChange:e=>{i(e,a.current)},value:r.email||"",className:"sign__form-input",name:"email",type:"email",placeholder:"email"}),s.jsx(o,{onError:!!l.email,onFocus:p}),s.jsx("span",{className:"sign__form-input-err",children:l.email})]}),s.jsxs("div",{className:"sign__form-input-block",children:[s.jsx("input",{required:!0,onFocus:()=>{u(!0)},onBlur:e=>{i(e,a.current),u(!1)},onChange:e=>{i(e,a.current)},value:r.password||"",minLength:5,className:"sign__form-input",name:"password",type:"password",placeholder:"password"}),s.jsx(o,{onError:!!l.password,onFocus:h}),s.jsx("span",{className:"sign__form-input-err",children:l.password})]}),n.signUp?s.jsx("div",{className:"sign__redirect-block",children:s.jsxs("p",{className:"sign__redirect-message",children:["Уже зарегистрированы?",s.jsx(d,{to:"/sign-in",className:"sign__redirect-link",children:" войти"})]})}):s.jsx("div",{className:"sign__redirect-block",children:s.jsxs("p",{className:"sign__redirect-message",children:["Еще не зарегистрированы?",s.jsx(d,{to:"/sign-up",className:"sign__redirect-link",children:" Регистрация"})]})}),s.jsx("p",{className:"sign__submit-error-msg"}),s.jsx("div",{className:"sign__submit-btn-wrapper",children:s.jsx("button",{disabled:!g||n.isLoading,type:"submit",className:`sign__submit-btn ${n.isLoading&&"sign__submit-btn_loading"}`,children:n.signUp?`${n.isLoading?"Регистрация":"Зарегистрироваться"}`:`${n.isLoading?"Вход":"Войти"}`})})]})})}export{b as S};
